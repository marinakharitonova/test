"use strict";

function _classCallCheck(e, t) {
    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
}

function _defineProperties(e, t) {
    for (var s = 0; s < t.length; s++) {
        var n = t[s];
        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
    }
}

function _createClass(e, t, s) {
    return t && _defineProperties(e.prototype, t), s && _defineProperties(e, s), Object.defineProperty(e, "prototype", {writable: !1}), e
}

Selectize.define("no_results", (function (e) {
    var t, s = this, n = this;
    e = $.extend({
        message: "Кажется, такой программы нет", html: function (e) {
            return '<div class="selectize-dropdown ' + e.classNames + ' dropdown-empty-message"><div class="selectize-dropdown-content">' + e.message + "</div></div>"
        }
    }, e), this.displayEmptyResultsMessage = function () {
        s.$empty_results_container.css("top", s.$control.outerHeight()), s.$empty_results_container.show()
    }, this.refreshOptions = (t = n.refreshOptions, function () {
        t.apply(n, arguments), this.hasOptions ? this.$empty_results_container.hide() : this.displayEmptyResultsMessage()
    }), this.onKeyDown = function () {
        var e = n.onKeyDown;
        return function (t) {
            e.apply(n, arguments), 27 === t.keyCode && (this.$empty_results_container.hide(), this.$control_input.removeClass("active"))
        }
    }(), this.onBlur = function () {
        var e = n.onBlur;
        return function () {
            e.apply(n, arguments), this.$empty_results_container.hide()
        }
    }(), this.setup = function () {
        var t = n.setup;
        return function () {
            t.apply(n, arguments), n.$empty_results_container = $(e.html($.extend({classNames: n.$input.attr("class")}, e))), n.$empty_results_container.insertBefore(n.$dropdown), n.$empty_results_container.hide()
        }
    }()
})), Selectize.define("no_remove_on_backspace", (function () {
    var e, t = this;
    this.removeItem = (e = t.removeItem, function () {
        var s = this.$control_input.hasClass("active");
        s || e.apply(t, arguments)
    })
})), Selectize.define("hide_search", (function () {
    var e, t = this;
    this.onBlur = (e = t.onBlur, function () {
        this.$control_input.removeClass("active"), e.apply(t, arguments)
    }), this.addItem = function () {
        var e = t.addItem;
        return function () {
            this.$control_input.removeClass("active"), e.apply(t, arguments)
        }
    }(), this.removeItem = function () {
        var e = t.removeItem;
        return function () {
            this.$control_input.removeClass("active"), this.$dropdown.addClass("hidden"), e.apply(t, arguments)
        }
    }()
}));
var SelectizeSelect = function () {
    function e(t) {
        _classCallCheck(this, e), this.selector = t, this.container = document.querySelector(t), this.options = {
            maxItems        : 100,
            plugins         : ["remove_button", "no_results", "hide_search"],
            items           : [""],
            hideSelected    : !1,
            closeAfterSelect: !0,
            placeholder     : "Поиск по программам 1С",
            dropdownParent  : $("".concat(this.selector, " .select__dropdown"))
        }
    }

    return _createClass(e, [{
        key: "init", value: function () {
            this.controlElem = this.container.querySelector(".js-control"), this.$select = $("".concat(this.selector, " .js-selectize")).selectize(this.options), this.selectize = this.$select[0].selectize, this.controlElem.addEventListener("click", this.open.bind(this))
        }
    }, {
        key: "open", value: function () {
            this.selectize.$control_input.addClass("active"), this.selectize.focus(), this.selectize.$dropdown.removeClass("hidden")
        }
    }]), e
}();

function watchNavPosition() {
    var e = document.getElementById("nav"), t = e.getBoundingClientRect().top + window.scrollY;
    window.scrollY > t ? e.classList.add("hero__nav_active") : e.classList.remove("hero__nav_active")
}

// $(".js-team-slider").slick({
//     slidesToShow  : 1,
//     slidesToScroll: 1,
//     arrows        : !0,
//     dots          : !1,
//     nextArrow     : "#team-slider-button-next",
//     prevArrow     : "#team-slider-button-prev"
// }), $(".js-reviews-slider").slick({
//     slidesToShow  : 1,
//     slidesToScroll: 1,
//     arrows        : !0,
//     dots          : !0,
//     nextArrow     : "#reviews-slider-button-next",
//     prevArrow     : "#reviews-slider-button-prev",
//     appendDots    : $(".js-reviews-slider-dots")
// }), window.addEventListener("scroll", watchNavPosition);
var calcSelect = new SelectizeSelect(".js-calc-select");
calcSelect.init();